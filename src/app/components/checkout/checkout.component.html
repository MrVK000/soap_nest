<div class="checkout-container flex flex-column align-items-center">
    <h1 class="page-title text-center">Checkout</h1>

    <div class="checkout-wrapper">
        <div class="product-list">
            <div class="product-item" *ngFor="let product of products">
                <img [src]="product.image" alt="{{ product.name }}">
                <div>
                    <h3>{{ product.name }}</h3>
                    <p>Price: ₹{{ product.price }}</p>
                </div>
            </div>
        </div>

        <form [formGroup]="checkoutForm">
            <div>
                <label>Full Name</label>
                <input formControlName="fullName" placeholder="Enter your name">
                <div
                    [ngStyle]="checkoutForm.controls['fullName'].invalid && checkoutForm.controls['fullName'].touched?{}:{'visibility':'hidden'}">
                    <p class="error">
                        * Name is required
                    </p>
                </div>
            </div>

            <div>
                <label>Phone Number</label>
                <input formControlName="phone" placeholder="Enter phone number">
                <div
                    [ngStyle]="checkoutForm.controls['phone'].invalid && checkoutForm.controls['phone'].touched?{}:{'visibility':'hidden'}">
                    <p class="error">
                        * Valid phone number is required
                    </p>
                </div>
            </div>

            <div>
                <label>Address</label>
                <textarea formControlName="address" placeholder="Enter delivery address"></textarea>
                <div
                    [ngStyle]="checkoutForm.controls['address'].invalid && checkoutForm.controls['address'].touched?{}:{'visibility':'hidden'}">
                    <p class="error">
                        * Address is required
                    </p>
                </div>
            </div>

            <div>
                <label>State</label>
                <input formControlName="state" placeholder="Enter your state">
                <div
                    [ngStyle]="checkoutForm.controls['state'].invalid && checkoutForm.controls['state'].touched?{}:{'visibility':'hidden'}">
                    <p class="error">
                        * Valid state is required
                    </p>
                </div>
            </div>

            <div>
                <label>Pincode</label>
                <input formControlName="pincode" placeholder="Enter your pincode">
                <div
                    [ngStyle]="checkoutForm.controls['pincode'].invalid && checkoutForm.controls['pincode'].touched?{}:{'visibility':'hidden'}">
                    <p class="error">
                        * Valid pincode is required
                    </p>
                </div>
            </div>

            <div class="order-summary">
                <h3>Order Summary</h3>
                <p>Subtotal: ₹{{ totalPrice }}</p>
                <p>GST (18%): ₹{{ gst }}</p>
                <p>Delivery Charge: ₹{{ deliveryCharge }}</p>
                <h3>Total: ₹{{ grandTotal }}</h3>
            </div>

            <button [disabled]="checkoutForm.invalid" (click)="placeOrder()">Place Order</button>
        </form>
    </div>
</div>